<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2: アニメーションする花火</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #001;
            color: white;
            font-family: sans-serif;
        }
        canvas {
            border: 2px solid #333;
            display: block;
            margin: 20px auto;
            background-color: #000;
        }
        .info {
            text-align: center;
            margin: 20px;
        }
        h1 {
            text-align: center;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
         // キャンバスサイズを画面全体に
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // 花火の設定
        let radius = 0; // 最初は0から始まる
        const maxRadius = 150; // 最大の半径
        const centerX = 400; // 中心のX座標
        const centerY = 300; // 中心のY座標

        // 花火を描く関数
        function drawFirework() {
            // 画面をクリア（前の絵を消す）
            ctx.fillStyle = 'rgba(0, 0, 17, 0.1)'; // 少し透明な黒
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const particleCount = 30; // 花火の粒の数

            // 30本の線を描く
            for (let i = 0; i < particleCount; i++) {
                // 角度を計算
                const angle = (Math.PI * 2 / particleCount) * i;

                // 線の終点を計算
                const endX = centerX + Math.cos(angle) * radius;
                const endY = centerY + Math.sin(angle) * radius;

                // 線を描く
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = '#ff6b6b';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }

        // アニメーションを動かす関数
        function animate() {
            drawFirework();

            // 半径を大きくする
            radius += 2;

            // 最大まで広がったらリセット
            if (radius > maxRadius) {
                radius = 0;
            }

            // 次のフレームを呼び出す（繰り返し）
            requestAnimationFrame(animate);
        }

        // アニメーション開始
        animate();
    </script>
</body>
</html>
